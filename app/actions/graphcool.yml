types: ./types.graphql

functions:
  action-data-validation-on-update:
    type: operationBefore
    operation: Action.update
    schema: ./functions/validate-data/schema.graphql
    handler:
      code:
        src: ./functions/validate-data/index.js
  action-data-validation-on-create:
    type: operationBefore
    operation: Action.create
    schema: ./functions/validate-data/schema.graphql
    handler:
      code:
        src: ./functions/validate-data/index.js

permissions:
- operation: Action.create
  authenticated: true
  query: ./permissions/create.graphql
- operation: Action.update
  authenticated: true
  query: ./permissions/update.graphql
- operation: Action.read
  authenticated: true
  query: ./permissions/read.graphql

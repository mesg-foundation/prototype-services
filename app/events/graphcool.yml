types: ./types.graphql

functions:
  event-trigger-service:
    type: subscription
    query: ./functions/trigger-service/subscription.graphql
    handler:
      code:
        src: ./functions/trigger-service/index.js
        environment:
          DASHBOARD_URL: ${env:DASHBOARD_URL}

permissions:
- operation: Event.create
  authenticated: true
  query: ./permissions/create.graphql
- operation: Event.read
  authenticated: true
  query: ./permissions/read.graphql
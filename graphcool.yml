# GraphQL types
types: ./types.graphql

# Graphcool modules
modules: 
  email-password: app/email-password/graphcool.yml
  invitation: app/invitation/graphcool.yml
  blockchain-connectors: app/blockchain-connectors/graphcool.yml
  service: app/service/graphcool.yml
  plans: app/plans/graphcool.yml
  notifications: app/notifications/graphcool.yml
  project: app/project/graphcool.yml
  contracts: app/contracts/graphcool.yml
  events: app/events/graphcool.yml
  logs: app/logs/graphcool.yml


# Model/Relation permissions
permissions:

# ====================================
# ======= PERMISSION FOR TYPES =======
# ====================================

# === Action
- operation: Action.create
  authenticated: true
  query: permissions/types/Action/create.graphql
- operation: Action.update
  authenticated: true
  query: permissions/types/Action/update.graphql
- operation: Action.read
  authenticated: true
  query: permissions/types/Action/read.graphql

# === Trigger
- operation: Trigger.create
  authenticated: true
  query: permissions/types/Trigger/create.graphql
- operation: Trigger.read
  authenticated: true
  query: permissions/types/Trigger/read.graphql
- operation: Trigger.update
  authenticated: true
  query: permissions/types/Trigger/update.graphql

# === User permissions
- operation: User.create
- operation: User.read
  authenticated: true
  query: permissions/types/User/read.graphql
- operation: User.read
  fields:
    - id


# ========================================
# ======= PERMISSION FOR RELATIONS =======
# ========================================

- operation: ConnectorOnTriggers.connect
  authenticated: true
  # query: ... TODO

- operation: ActionOnTriggers.connect
  authenticated: true
  # query: ... TODO

- operation: ServiceOnAction.connect
  authenticated: true
  # query: ... TODO

- operation: ActionOnProject.connect
  authenticated: true
  # query: ... TODO

# === ConnectorOnProject
- operation: ConnectorOnProject.connect
  authenticated: true
  # query: permissions/relations/ConnectorOnProject/connect.graphql TODO

# === ConnectorOnContracts
- operation: ConnectorOnContracts.connect
  authenticated: true

# === TriggerOnContract
- operation: TriggerOnContract.connect
  authenticated: true
  query: permissions/relations/TriggerOnContract/connect.graphql

# === ProjectOnUser
- operation: ProjectOnUser.connect
  authenticated: true
  query: permissions/relations/ProjectOnUser/connect.graphql

# === TriggerOnProject
- operation: TriggerOnProject.connect
  authenticated: true
  query: permissions/relations/TriggerOnProject/connect.graphql

# === ProjectOnContract
- operation: ProjectOnContract.connect
  authenticated: true
  query: permissions/relations/ProjectOnContract/connect.graphql

# === EventOnTrigger
- operation: EventOnTrigger.connect
  authenticated: true
  query: permissions/relations/EventOnTrigger/connect.graphql

# === TriggerOnService
- operation: TriggerOnService.connect
  authenticated: true
  query: permissions/relations/TriggerOnService/connect.graphql
- operation: TriggerOnService.disconnect
  authenticated: true
  query: permissions/relations/TriggerOnService/connect.graphql
  

# ======================
# ======= TOKENS =======
# ======================


# Permanent Auth Token / Root Tokens
rootTokens:
  - functions

